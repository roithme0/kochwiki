<form
  action="POST"
  class="ingredient-form"
  [formGroup]="ingredientForm"
  (ngSubmit)="onSubmit()"
>
  <div class="field">
    <label
      for="name"
      class="field-label"
      [class.required]="ingredientForm.get('name')?.errors?.['required']"
      >{{ verboseNames?.name }}</label
    >
    <input
      type="text"
      name="name"
      class="field-input input-text"
      formControlName="name"
    />
  </div>

  <div class="field">
    <label
      for="brand"
      class="field-label"
      [class.required]="ingredientForm.get('brand')?.errors?.['required']"
      >{{ verboseNames?.brand }}</label
    >
    <input
      type="text"
      name="brand"
      class="field-input input-text"
      formControlName="brand"
    />
  </div>

  <div class="field">
    <label
      for="unit"
      class="field-label"
      [class.required]="ingredientForm.get('unit')?.errors?.['required']"
      >{{ verboseNames?.unit }}</label
    >
    <select name="unit" class="field-input" formControlName="unit">
      @if(unitChoices){ @for(choice of getKeys(unitChoices); track choice){
      <option value="{{ choice }}">{{ unitChoices[choice] }}</option>
      }}
    </select>
  </div>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title> NÃ¤hrstoffangaben </mat-panel-title>
    </mat-expansion-panel-header>

    <div class="makros-wrapper">
      <div class="field">
        <label
          for="kcal"
          class="field-label"
          [class.required]="ingredientForm.get('kcal')?.errors?.['required']"
          >{{ verboseNames?.kcal }}</label
        >
        <input
          type="number"
          name="kcal"
          class="field-input input-number"
          formControlName="kcal"
        />
      </div>

      <div class="field">
        <label
          for="carbs"
          class="field-label"
          [class.required]="ingredientForm.get('carbs')?.errors?.['required']"
          >{{ verboseNames?.carbs }}</label
        >
        <input
          type="number"
          name="carbs"
          class="field-input input-number"
          formControlName="carbs"
        />
      </div>

      <div class="field">
        <label
          for="protein"
          class="field-label"
          [class.required]="ingredientForm.get('protein')?.errors?.['required']"
          >{{ verboseNames?.protein }}</label
        >
        <input
          type="number"
          name="protein"
          class="field-input input-number"
          formControlName="protein"
        />
      </div>

      <div class="field">
        <label
          for="fat"
          class="field-label"
          [class.required]="ingredientForm.get('fat')?.errors?.['required']"
          >{{ verboseNames?.fat }}</label
        >
        <input
          type="number"
          name="fat"
          class="field-input input-number"
          formControlName="fat"
        />
      </div>
    </div>
  </mat-expansion-panel>

  <button type="submit" [disabled]="!ingredientForm.valid">Submit</button>
</form>
