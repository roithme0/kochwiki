<form
  action="POST"
  class="form"
  [formGroup]="recipeForm"
  (onSubmit)="onSubmit(recipeForm.value)"
>
  <section class="meta-fields-wrapper">
    <label for="">Name</label>
    <input type="text" name="" id="" formControlName="name" />
    <label for="">Bild</label>
    <input type="text" name="" id="" formControlName="image" />
    <label for="">Original</label>
    <input type="text" name="" id="" formControlName="original" />
    <label for="">URL</label>
    <input type="text" name="" id="" formControlName="origin_url" />
    <label for="">Ersteller*in</label>
    <input type="text" name="" id="" formControlName="origin_name" />
  </section>

  <section>
    <header>
      <h2>Zutaten</h2>
      <input type="number" />
      <p>Portionen</p>
    </header>
    <div formArrayName="amounts">
      @for(amount of amounts.controls; track amount){
      <div formGroupName="{{ $index }}">
        <button (click)="removeAmount($index)">Löschen</button>
        <select formControlName="ingredient"></select>
        <input type="number" formControlName="amount" />
      </div>
      }
      <button (click)="addAmount()">Hinzufügen</button>
    </div>
  </section>

  <section>
    <header>
      <h2>Zubereitung</h2>
      <input type="number" formControlName="preptime" />
      <p>min</p>
    </header>
    <div formArrayName="steps">
      @for(step of steps.controls; track step){
      <div formGroupName="{{ $index }}">
        <button (click)="removeStep($index)">Löschen</button>
        <input type="text" formControlName="description" />
      </div>
      }
      <button (click)="addStep()">Hinzufügen</button>
    </div>
  </section>
  <button
    type="submit"
    [disabled]="!recipeForm.valid"
    (click)="onSubmit(recipeForm.value)"
  >
    Submit
  </button>
</form>
